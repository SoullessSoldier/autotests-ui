# 7.1 Знакомство с Page Object
[назад](../readme.md)

Содержание:
- [Принципы Page Object Model](#принципы-page-object-model)
- [Основные компоненты Page Object Model](#основные-компоненты-page-object-model)
- [Преимущества использования Page Object Model](#преимущества-использования-page-object-model)
- [Недостатки Page Object Model](#недостатки-page-object-model)
- [Пример структуры проекта с POM](#пример-структуры-проекта-с-pom)
- [Принцип работы Page Object Model](#принцип-работы-page-object-model)
- [Практика](#практика)
- [Практическое задание по работе с Page Object](#практическое-задание-по-работе-с-page-object)
- [Ссылки](#ссылки)

**Page Object Model (POM)** — это базовый паттерн для автоматизации тестирования пользовательских интерфейсов (UI).
Его основная идея заключается в создании классов или объектов, которые представляют веб-страницы 
или элементы интерфейса, с которыми взаимодействуют тесты. 
Каждая страница приложения представляется как отдельный объект (Page Object), 
а ее элементы (кнопки, поля ввода, текстовые поля) — как методы или свойства этого объекта.

## Принципы Page Object Model
1. **Разделение логики взаимодействия с интерфейсом и тестовой логики**. Логика работы с элементами интерфейса (например, нажатие кнопки, ввод текста) выносится в отдельные классы. Тесты только вызывают методы этих классов, не зная, как именно происходит взаимодействие с элементами.
2. **Инкапсуляция взаимодействия с элементами страницы**. Page Object инкапсулирует (скрывает) детали работы с элементами страницы. Это позволяет изменять внутреннюю структуру страницы (например, изменять селекторы элементов) без изменения самих тестов.
3. **Повторное использование кода**. Если один и тот же элемент интерфейса используется на нескольких страницах (например, навигационное меню), его логика описывается в одном объекте и может быть использована в разных тестах.

[вверх](#71-знакомство-с-page-object)


## Основные компоненты Page Object Model
1. **Page Object** — это класс, который описывает одну веб-страницу или ее часть. В этом классе содержатся:
  - Селекторы элементов страницы.
  - Методы для взаимодействия с этими элементами (нажатие кнопки, ввод текста, получение текста и т.д.).
2. **Методы для взаимодействия** — это действия, которые можно выполнить на странице. Например:
  - Ввод текста в поле (например, логин или пароль).
  - Нажатие на кнопку (например, "Отправить").
  - Получение значения текстового элемента (например, сообщение об ошибке).
3. **Методы для проверки состояния страницы** — это методы, которые позволяют проверить, правильно ли работает страница, загружены ли все необходимые элементы, есть ли ошибки и т.д.

[вверх](#71-знакомство-с-page-object)


## Преимущества использования Page Object Model
1. **Упрощение тестов**. Логика взаимодействия с элементами UI отделяется от тестов, что делает сами тесты короче, чище и понятнее.
2. **Легкость поддержки**. Если структура веб-страницы меняется (например, изменяются селекторы), достаточно изменить Page Object, а не все тесты.
3. **Повторное использование**. Одна и та же логика может использоваться в нескольких тестах. Например, если авторизация на сайте необходима для многих тестов, Page Object для страницы авторизации можно использовать во всех этих тестах.
4. **Четкая структура и инкапсуляция**. Весь код, связанный с конкретной страницей или элементом интерфейса, находится в одном месте, что упрощает навигацию по проекту и делает его более организованным.

[вверх](#71-знакомство-с-page-object)


## Недостатки Page Object Model
1. **Усложнение структуры проекта**. Использование POM требует создания дополнительных классов и методов, что может увеличить объем кода.
2. **Поддержка Page Object классов**. Если структура страницы часто меняется, нужно будет регулярно обновлять Page Object классы.
3. **Избыточность**. Для небольших проектов, где мало тестов и страниц, использование POM может показаться излишним. Он больше полезен для крупных приложений с большим количеством страниц и тестов.

[вверх](#71-знакомство-с-page-object)


## Пример структуры проекта с POM
- **pages/** */ – папка, содержащая Page Object классы:
  - *login_page.py* – класс для страницы логина.
  - *dashboard_page.py* – класс для главной страницы пользователя.
- **tests/** */ – папка с тестами:
  - *test_login.py* – файл с тестами для логина.
  - *test_dashboard.py* – файл с тестами для главной страницы.

[вверх](#71-знакомство-с-page-object)


## Принцип работы Page Object Model
1. **Создание классов для каждой страницы**. Например, для страницы авторизации создается класс *LoginPage*. Этот класс будет иметь методы для ввода логина, пароля и нажатия кнопки "Войти".
2. **Использование этих классов в тестах**. Тесты взаимодействуют с веб-страницами через методы Page Object. Например, тест для успешного входа на сайт может выглядеть так:
```python
def test_successful_login():
    login_page = LoginPage(driver)
    login_page.enter_username("test_user")
    login_page.enter_password("password")
    login_page.click_login_button()
    assert login_page.is_login_successful()
```

[вверх](#71-знакомство-с-page-object)


## Практика
- Создание базового класса **BasePage** в *pages/base_page.py*
- Создание потомка-класса **LoginPage** в *pages/login_page.py*
- Использование **LoginPage** в тесте *tests/test_authorization.py*
- Инициализация страницы **LoginPage** через фикстуру *fixtures/pages.py*

[вверх](#71-знакомство-с-page-object)


# Практическое задание по работе с Page Object
[Ссылка на описание практического задания](./homework.md)

[вверх](#71-знакомство-с-page-object)


## Ссылки:
- [Документация от playwright](https://playwright.dev/python/docs/pom)
- [Документация от selenium](https://selenium-python.readthedocs.io/page-objects.html)

[вверх](#71-знакомство-с-page-object)
